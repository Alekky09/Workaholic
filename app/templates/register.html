{% extends "bootstrap/base.html" %}
{% import "bootstrap/wtf.html" as wtf %}

{% block styles %}
{{super()}}
<link rel="stylesheet" href="/static/styles.css">
{% endblock %}

{% block head %}
{{super()}}
{% with messages = get_flashed_messages() %}
  {% if messages %}
    {% for message in messages %}
    <div class="alert alert-danger container mt-3 alert-dismissible fade show" role="alert" >
        {{ message }}  
        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    {% endfor %}
  {% endif %}
{% endwith %}
{% endblock %}

{% block title %}
Register
{% endblock %}

{% block content %}
<div class="container">
    <form class="form-signin" method="POST" action="/register">
        <h2 class="form-signin-heading">Register</h2>
        {{ form.hidden_tag() }}

        {{ wtf.form_field(form.username) }}
        {% for error in form.username.errors %}
        <span>{{ error }}</span><br>
        {% endfor %}

        {{ wtf.form_field(form.email) }}
        {% for error in form.email.errors %}
        <span>{{ error }}</span><br>
        {% endfor %}

        {{ wtf.form_field(form.password) }}
        {% for error in form.password.errors %}
        <span>{{ error }}</span><br>
        {% endfor %}

        {{ wtf.form_field(form.confirm) }}
        <button class="btn btn-lg btn-primary btn-block" type="submit">Register</button>
    </form>
</div>
{% endblock %}